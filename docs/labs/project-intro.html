<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ESS 330 Final Project Guidelines – ESS 330</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-8ea72dc5fed832574809a9c94082fbbb.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-5b6eb65566b1f8a996f1287d789c0740.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-c63d9198b28a859559c0f0cce9729cfa.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../csu-rams-logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">ESS 330</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../labs.html"> 
<span class="menu-text">Labs</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mikejohnson51/csu-ess-330/"> <i class="bi bi-github" role="img" aria-label="ESS 330">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#research-process-modeling-and-project-proposal" id="toc-research-process-modeling-and-project-proposal" class="nav-link active" data-scroll-target="#research-process-modeling-and-project-proposal">Research Process, Modeling, and Project Proposal</a></li>
  <li><a href="#the-role-of-models-in-the-scientific-method" id="toc-the-role-of-models-in-the-scientific-method" class="nav-link" data-scroll-target="#the-role-of-models-in-the-scientific-method">The Role of Models in the Scientific Method</a></li>
  <li><a href="#research-proposals-and-planning" id="toc-research-proposals-and-planning" class="nav-link" data-scroll-target="#research-proposals-and-planning">Research Proposals and Planning</a></li>
  <li><a href="#your-project-assignment" id="toc-your-project-assignment" class="nav-link" data-scroll-target="#your-project-assignment">Your Project Assignment</a></li>
  <li><a href="#final-projects-will-have-3-milestones" id="toc-final-projects-will-have-3-milestones" class="nav-link" data-scroll-target="#final-projects-will-have-3-milestones">Final Projects will have 3 milestones:</a></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">Getting Started:</a></li>
  <li><a href="#project-proposal" id="toc-project-proposal" class="nav-link" data-scroll-target="#project-proposal">Project Proposal:</a>
  <ul class="collapse">
  <li><a href="#lightning-talks" id="toc-lightning-talks" class="nav-link" data-scroll-target="#lightning-talks">Lightning talks:</a></li>
  </ul></li>
  <li><a href="#formal-report" id="toc-formal-report" class="nav-link" data-scroll-target="#formal-report">Formal Report:</a>
  <ul class="collapse">
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">3. Methods</a></li>
  </ul></li>
  <li><a href="#helpful-guidelines" id="toc-helpful-guidelines" class="nav-link" data-scroll-target="#helpful-guidelines">Helpful Guidelines</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<script src="https://use.fontawesome.com/5235085b15.js"></script>

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ESS 330 Final Project Guidelines</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="images/sci-methods.jpg" class="img-fluid figure-img" width="343"></p>
</figure>
</div>
</div>
</div>
<section id="research-process-modeling-and-project-proposal" class="level2">
<h2 class="anchored" data-anchor-id="research-process-modeling-and-project-proposal">Research Process, Modeling, and Project Proposal</h2>
<p>Scientists use the scientific method to answer research questions, which are based on detailed observations and a review of existing literature. This process helps identify knowledge gaps where further investigation is needed. A well-designed research project requires a clear question or objective, testable hypotheses, and specific predictions. Once these foundations are established, scientists collect data, apply appropriate analytical methods, and report their findings. The purpose of this class was to equit you with the quantative skills needed to conduct this research.</p>
<p>Research results can be communicated in various formats, such as scientific papers, conference presentations, formal reports, web applications, or outreach activities. Regardless of the format, properly communicating findings is essential for contributing to the scientific community and beyond.</p>
</section>
<section id="the-role-of-models-in-the-scientific-method" class="level2">
<h2 class="anchored" data-anchor-id="the-role-of-models-in-the-scientific-method">The Role of Models in the Scientific Method</h2>
<p>Models are a fundamental tool in scientific research, helping to simplify complex systems, test hypotheses, and make predictions. They allow scientists to explore different scenarios, assess uncertainty, and interpret patterns in data. In ecosystem science and sustainability, models can be used to analyze relationships between environmental variables, predict future conditions, and inform decision-making. Whether through statistical models, machine learning techniques, or process-based simulations, modeling plays a key role in refining scientific understanding and guiding research design.</p>
</section>
<section id="research-proposals-and-planning" class="level2">
<h2 class="anchored" data-anchor-id="research-proposals-and-planning">Research Proposals and Planning</h2>
<p>Before conducting a study, researchers often develop a research proposal, which serves as a blueprint for their project. This proposal is used to secure funding, obtain necessary permissions from environmental and academic authorities, and document the study plan. A research proposal typically includes:</p>
<ul>
<li><p>An introduction that presents the topic and its significance,</p></li>
<li><p>A methods section outlining how data will be collected and analyzed, and</p></li>
<li><p>Additional elements such as a schedule and budget (not required for this class).</p></li>
</ul>
<p>Because a proposal describes a study that has not yet been conducted, the methods section is written in future tense rather than past tense. Writing a research proposal is a critical step in the scientific process, as it helps refine the study’s scope, clarify predictions, identify key variables, and minimize the risk of manipulating data to fit expected outcomes.</p>
</section>
<section id="your-project-assignment" class="level2">
<h2 class="anchored" data-anchor-id="your-project-assignment">Your Project Assignment</h2>
<p>In Lab 5, you will develop your own research proposals to address a specific research question in ecosystem science and sustainability (in groups of 2-3). To encourage exploration and creativity, each person will develop two distinct proposals and compile the teams ideas into a single document. This ensures that you explore different directions before committing to a single idea and reduces the risk of getting “rabbit-holed” into a narrow focus too early.</p>
<p>Your team will then refine and develop one of your chosen proposals into a complete research project. Your research question should be answerable using the datasets available and within the timeframe of this course. You will apply the coding and statistical skills learned in class to analyze and present your findings.</p>
<p>You will ultimetly present your work in two forms, as a lightning talk and a formal report. The lightning talk is a brief presentation that summarizes your research project (simular to what you might give at a conference), while the formal report is a detailed written document that follows the structure of a scientific paper. Both components will be based on the same research question and findings.</p>
</section>
<section id="final-projects-will-have-3-milestones" class="level2">
<h2 class="anchored" data-anchor-id="final-projects-will-have-3-milestones">Final Projects will have 3 milestones:</h2>
<ol type="1">
<li>Project proposal (Lab 5)</li>
<li>Lightning talk presentations (Final Lab Section)</li>
<li>Full project report (Due before your lightning talks)</li>
</ol>
</section>
<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">Getting Started:</h2>
</section>
<section id="project-proposal" class="level2">
<h2 class="anchored" data-anchor-id="project-proposal">Project Proposal:</h2>
<p>Done as lab 5, your project proposals will get you thinking about possible topics to study along with there interest, feasibility, and scope. Your TA’s will work with you to select one of your proposals as the basis for your final projects.</p>
<section id="lightning-talks" class="level3">
<h3 class="anchored" data-anchor-id="lightning-talks">Lightning talks:</h3>
<p>A lightning talk is a brief (~5-10 minute) presentation that encompasses the essence of your research project. Being so short, they require you to condense all your work into the most important highlights of your study and results. Your talk should include the background of your study, research questions/hypotheses, your results (at least 2 visuals), and end with the main conclusions and what you think is most important point for your audience to take away from your study.</p>
<p>These presentations will take place during your final lab section. Since you are working in groups, you can choose to either present as a group, or designate a single presenter (but allocate the rest of the work accordingly). This <a href="https://www.nature.com/articles/d41586-021-01674-9">article</a> has some tips on lightning talks.</p>
</section>
</section>
<section id="formal-report" class="level2">
<h2 class="anchored" data-anchor-id="formal-report">Formal Report:</h2>
<p>Your final report should follow the organization of a scientific paper but will be written in Quarto and submitted as a deployed Github site. It will be an expansion of your project proposal, but written in past tense since you completed the project.</p>
<p>When writing a scientific paper, the funnel method is a common approach to structuring the work. The main idea is that things start very broad, and then gradually narrow down to the specific research question or hypothesis before broadening again. Here’s how it typically works:</p>
<div id="fig-elephants" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-elephants-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-elephants" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-surus" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-surus-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/funnel-writing.png" id="fig-surus" class="img-fluid figure-img" data-ref-parent="fig-elephants">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-surus-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a)
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-elephants" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-hanno" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hanno-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/funnel-writing2.png" id="fig-hanno" class="img-fluid figure-img" data-ref-parent="fig-elephants">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hanno-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b)
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-elephants-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Funnel Writing Approach: Two Styles
</figcaption>
</figure>
</div>
<p>Using this structure, your paper must include the following sections:</p>
<section id="title" class="level4">
<h4 class="anchored" data-anchor-id="title">1. Title:</h4>
<p>Your title should adequately and concisely describe your project and findings.</p>
<ul class="task-list">
<li><label><input type="checkbox">Describe your study with as few words as possible</label></li>
<li><label><input type="checkbox">Include the objective, subject, and result</label></li>
<li><label><input type="checkbox">Avoid fillers like “Investigation of”, “Observations of”, etc.</label></li>
<li><label><input type="checkbox">No acronyms or jargon</label></li>
</ul>
</section>
<section id="abstract" class="level4">
<h4 class="anchored" data-anchor-id="abstract">2. Abstract</h4>
<p>The abstract is almost always read first, so incorporate the most important parts of each aspect of the study. The abstract should briefly summarize each section of the paper (normally ~ 1-3 sentence for each section). Usually, these are limited to ~250 words.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="images/abstract-example.png" class="img-fluid figure-img" width="1050"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="introductionhypothesis" class="level4">
<h4 class="anchored" data-anchor-id="introductionhypothesis">2. Introduction/Hypothesis</h4>
<p>Your introduction should start by describing a problem or question. It should then present sufficient background information and describe the importance of the study to the scientific community and any knowledge gaps you are addressing. You should compare your work to previous research. This is the section that will have the most citations. The introduction should end with the objectives and hypotheses being tested.</p>
<ul class="task-list">
<li><label><input type="checkbox">Starts with a general/broad question or problem, then gets more specific to your study and hypothesis</label></li>
<li><label><input type="checkbox">Provide context by reviewing relevant literature &amp; identifying gaps or research questions (citations!)</label></li>
<li><label><input type="checkbox">Justification: Why is this study important/needed?</label></li>
<li><label><input type="checkbox">Ends with your clearly stated objectives and hypotheses</label></li>
</ul>
</section>
<section id="methods" class="level3">
<h3 class="anchored" data-anchor-id="methods">3. Methods</h3>
<p>Methods sections should provide sufficient detail to allow someone to replicate your work. Describe the scope of your study, the study system (e.g., species, ecosystem, geographic location, etc.), datasets used (with citations), the process of compiling, formatting, and/or transforming the data, and the analyses used to test your hypotheses.</p>
<ul class="task-list">
<li><label><input type="checkbox">Describe the research design, including study site/system, materials, and procedures</label></li>
<li><label><input type="checkbox">Explain data collection and analysis in detail. For class final projects, you should first describe how/where you collected your datasets, followed by the statistical analyses you did</label></li>
<li><label><input type="checkbox">Use past tense to describe what was done (not what will be done)</label></li>
<li><label><input type="checkbox">Written as a detailed description in logical order that would allow the reader to repeat the study on their own, not a list.</label></li>
</ul>
<section id="results" class="level4">
<h4 class="anchored" data-anchor-id="results">4. Results</h4>
<p>Your results section must include the results of at least two different analyses (reported in proper scientific format) along with a minimum of two figures. In addition to two figures, you may also include tables.</p>
<p>Unlike a normal scientific paper, in the results section you should also include the code you ran to conduct the analyses. This includes any code used to test for assumptions, plus the final analysis (similar to how you completed homework assignments in Quarto). We will learn how to collapse this code in class making your final document more readable.</p>
<ul class="task-list">
<li><label><input type="checkbox">Organize logically and chronologically</label></li>
<li><label><input type="checkbox">Use tables, figures, and graphs to visualize data effectively</label></li>
<li><label><input type="checkbox">Provide clear and concise explanations of key findings</label></li>
<li><label><input type="checkbox">State the meaning/interpretation, not just reject/fail to reject the null</label></li>
</ul>
<p>For example:<br>
- <strong>Bad</strong>: Our p-value was 0.041, therefore we reject the null hypothesis<br>
- <strong>Good</strong>: Cowbirds reared with host young were on average 14% heavier than cowbirds reared alone (unpaired t16 = −2.23, P = 0.041, Fig. 2A)<br>
</p>
</section>
<section id="discussionconclusions" class="level4">
<h4 class="anchored" data-anchor-id="discussionconclusions">5. Discussion/Conclusions</h4>
<p>In the discussion you should interpret and critically evaluate all your results. Compare your findings to other published related research and report final conclusions in relation to your original objectives and hypotheses.</p>
<ul class="task-list">
<li><label><input type="checkbox">Interpret the results in the context of study objectives &amp; hypotheses</label></li>
<li><label><input type="checkbox">Do not repeat the results section, but interpret your results in the context of the introduction and methods</label>
<ul class="task-list">
<li><label><input type="checkbox">Discuss the implications of the findings and their significance</label></li>
<li><label><input type="checkbox">What is the biological/environmental/social significance of your findings?</label></li>
<li><label><input type="checkbox">How do your results relate to other studies?</label></li>
</ul></li>
<li><label><input type="checkbox">Address any limitations of the study and suggest future research directions</label></li>
<li><label><input type="checkbox">End with a main conclusion/take home message</label></li>
</ul>
</section>
<section id="citationsreferences" class="level4">
<h4 class="anchored" data-anchor-id="citationsreferences">6. Citations/References</h4>
<p>You should have a minimum of 10 peer-reviewed primary sources (scientific journal articles). You can include data citations in this total. Every article/resource in the References section must be cited somewhere in your formal report, and, APA format (CSL) should be used.</p>
</section>
</section>
</section>
<section id="helpful-guidelines" class="level2">
<h2 class="anchored" data-anchor-id="helpful-guidelines">Helpful Guidelines</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="images/rules-of-thumb.jpeg" class="img-fluid figure-img" width="540"></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script>
  Reveal.addEventListener( 'slidechanged', function( event ) {
    console.log("hello")
    
    slide_id = event.currentSlide.id
    link = "annotations" + ".html#" + slide_id
    
    var annotation_div = document.createElement('div')
    annotation_div.setAttribute("class", "annotation-link")
    
    var notes_link = document.createElement('a')
    notes_link.setAttribute("href", link)
    notes_link.setAttribute("target", "_blank")
    
    var iii = document.createElement('i')
    iii.setAttribute("class", "fa fa-info")
    notes_link.appendChild(iii)
    
    annotation_div.appendChild(notes_link)
    
    var tmp = event.currentTarget.getElementsByClassName("annotation-link")
    if (tmp.length === 1) {
      tmp[0].remove()
    }
    
    if (event.currentSlide.classList.contains("annotation")) {
      event.currentTarget.append(annotation_div)
    }
  } );

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>