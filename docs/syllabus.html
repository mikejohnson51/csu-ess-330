<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Ecosystem Science and Sustainability 330 – ESS 330</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-8ea72dc5fed832574809a9c94082fbbb.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5b6eb65566b1f8a996f1287d789c0740.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-c63d9198b28a859559c0f0cce9729cfa.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./csu-rams-logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ESS 330</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./syllabus.html" aria-current="page"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./labs.html"> 
<span class="menu-text">Labs</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mikejohnson51/csu-ess-330/"> <i class="bi bi-github" role="img" aria-label="ESS 330">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#about-this-course" id="toc-about-this-course" class="nav-link active" data-scroll-target="#about-this-course">About this course:</a></li>
  <li><a href="#course-objectives" id="toc-course-objectives" class="nav-link" data-scroll-target="#course-objectives">Course Objectives:</a></li>
  <li><a href="#course-structure" id="toc-course-structure" class="nav-link" data-scroll-target="#course-structure">Course Structure:</a>
  <ul class="collapse">
  <li><a href="#course-units" id="toc-course-units" class="nav-link" data-scroll-target="#course-units">Course Units:</a></li>
  <li><a href="#grading-evaluation" id="toc-grading-evaluation" class="nav-link" data-scroll-target="#grading-evaluation">Grading &amp; Evaluation:</a>
  <ul class="collapse">
  <li><a href="#evaluation-components" id="toc-evaluation-components" class="nav-link" data-scroll-target="#evaluation-components">Evaluation Components</a></li>
  <li><a href="#extra-credit-opportunities-10" id="toc-extra-credit-opportunities-10" class="nav-link" data-scroll-target="#extra-credit-opportunities-10"><strong>Extra Credit Opportunities</strong> (10%)</a></li>
  <li><a href="#course-material" id="toc-course-material" class="nav-link" data-scroll-target="#course-material">Course Material</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#how-to-approach-this-course" id="toc-how-to-approach-this-course" class="nav-link" data-scroll-target="#how-to-approach-this-course">How to Approach This Course:</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a>
  <ul class="collapse">
  <li><a href="#software" id="toc-software" class="nav-link" data-scroll-target="#software">Software</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<script src="https://use.fontawesome.com/5235085b15.js"></script>

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Ecosystem Science and Sustainability 330</h1>
<p class="subtitle lead">Quantitative Reasoning for Ecosystem Science</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Instructor</strong><br>
<i class="fa fa-user"></i> <a href="mailto::mike.johnson@colostate.edu"><strong>Mike Johnson</strong></a><br>
<i class="fa fa-terminal"></i> Geospatial Science &amp;Technology Lead, NOAA<br>
<i class="fa fa-globe"></i> <a href="https://mikejohnson51.github.io/">webpage</a><br>
</p>
<p><strong>Office Hours</strong><br>
<i class="fa fa-calendar"></i> M,W 11-11:45 (as needed)<br>
<i class="fa fa-calendar"></i> W 9-10<br>
<i class="fa fa-map-marker"></i> Lobby by classroom</p>
<p><strong>Lecture</strong><br>
<i class="fa fa-calendar-o"></i> January 21st - May 9th, 2025<br>
<i class="fa fa-calendar"></i> Monday, Wednesday<br>
<i class="fa fa-clock-o"></i> 10:00am - 10:50am<br>
<i class="fa fa-map-marker"></i> NR 113</p>
</div><div class="column" style="width:50%;">
<p><strong>Teaching Assistants</strong><br>
</p>
<p><i class="fa fa-user"></i> <a href="mailto:jaque.mcvey@colostate.edu"><strong>Jaque McVey</strong></a><br>
<i class="fa fa-terminal"></i> PhD Student, CSU<br>
<i class="fa fa-calendar"></i> Office Hours: T 12:45-1:30<br>
<i class="fa fa-map-marker"></i> NESB B247</p>
<p><i class="fa fa-user"></i> <a href="mailto::Alan.Cai@colostate.edu"><strong>Alan Cai</strong></a><br>
<i class="fa fa-terminal"></i> PhD Student, CSU<br>
<i class="fa fa-linkedin"></i> <a href="https://www.linkedin.com/in/ajcai/">linkedin</a><br>
<i class="fa fa-calendar"></i> Office Hours: Th 12:00-2:00<br>
<i class="fa fa-map-marker"></i> NESB A105</p>
<p><strong>Labs</strong><br>
<i class="fa fa-clock-o"></i> Section 1: Th 8:00am–9:50am (McVey)<br>
<i class="fa fa-clock-o"></i> Section 2: Th 2:00pm–3:50pm (McVey)<br>
<i class="fa fa-clock-o"></i> Section 3: Th 4:00pm–5:50pm (Cai)<br>
<i class="fa fa-clock-o"></i> Section 4: F 12:00pm–1:50am (Cai)<br>
<i class="fa fa-map-marker"></i> NR 232</p>
</div>
</div>
<section id="about-this-course" class="level2">
<h2 class="anchored" data-anchor-id="about-this-course">About this course:</h2>
<p>Quantitative reasoning involves analyzing, interpreting, and solving problems using numerical and logical reasoning. This course equips students with essential data science and quantitative skills, focusing on applying these methods to problems in ecosystem science and sustainability.</p>
<p>Students will engage in practical data-driven approaches through lectures, live coding demonstrations, discussions, and hands-on lab sessions. The course emphasizes the use of open-source technologies (R, Quarto), statistical methods, geospatial data analysis, and machine learning within reproducible workflows.</p>
</section>
<section id="course-objectives" class="level2">
<h2 class="anchored" data-anchor-id="course-objectives">Course Objectives:</h2>
<p>By the end of this course, students will:</p>
<ul>
<li>Assess ecosystem science challenges using quantitative tools.<br>
</li>
<li>Apply data-driven methods to real-world sustainability issues.<br>
</li>
<li>Use these skills in scientific research, decision-making, and environmental data analysis.</li>
</ul>
<p><strong>Prerequisites</strong>: MATH 155/160; STAT 301/307/315; ESS 211 or LIFE 320<br>
<strong>Credits</strong>: 3<br>
<strong>Course Website</strong>: <a href="https://github.com/mikejohnson51/csu-ess-330">Github Pages</a><br>
</p>
<hr>
</section>
<section id="course-structure" class="level1">
<h1>Course Structure:</h1>
<p>This face-to-face course consists of two 50-minute lectures and one 2-hour lab session each week. Labs will be conducted in the NR computer lab, where students will work through applied problems or learning new skills. It is recommended to bring their own laptops to lab sessions, but computers will be available for those without one.</p>
<p>The course itself is divided into 4 units each adding to the previous one in an attempt to provide you with the background needed to think, write, process and model data related to the enviroment.</p>
<section id="course-units" class="level2">
<h2 class="anchored" data-anchor-id="course-units">Course Units:</h2>
<p>An approximate weekly schedule is available on the course <a href="https://mikejohnson51.github.io/csu-ess-330/schedule.html">schedule</a>. While it is subject to change, we will be guided by four primary units:</p>
<ol type="1">
<li><strong>Open Science and Tools</strong> (<em>Weeks 1-3</em>)
<ul>
<li>Introduction to reproducible workflows and software (R, Rmd, Git)</li>
<li>Learning efficient interaction with computers whether you love them <em>or</em> hate them</li>
</ul></li>
<li><strong>Working with Data</strong> (<em>Weeks 4-7</em>)
<ul>
<li>Cleaning, refining, and analyzing messy data sets</li>
<li>Techniques for effective data interpretation</li>
</ul></li>
<li><strong>Modeling</strong> (<em>Weeks 8-12</em>)
<ul>
<li>Statistical, predictive, and classification models</li>
<li>Introduction to Machine Learning concepts</li>
<li>Understand that “all” problems are either prediction or classification</li>
</ul></li>
<li><strong>Geospatial Data</strong> (<em>Weeks 13-16</em>)
<ul>
<li>Applying spatial information to data analysis and problem-solving</li>
</ul></li>
</ol>
</section>
<section id="grading-evaluation" class="level2">
<h2 class="anchored" data-anchor-id="grading-evaluation">Grading &amp; Evaluation:</h2>
<p>Final grades will be based on points earned out throughout the semester based on the following opportunities. Regular participation and consistent practice will set you up for success.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Component</th>
<th style="text-align: left;">Points</th>
<th style="text-align: left;">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Daily Exercises</td>
<td style="text-align: left;">250</td>
<td style="text-align: left;">20%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lab Activities</td>
<td style="text-align: left;">120</td>
<td style="text-align: left;">10%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Labs</td>
<td style="text-align: left;">620</td>
<td style="text-align: left;">50%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Final Project</td>
<td style="text-align: left;">250</td>
<td style="text-align: left;">20%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Extra Credit Opportunities</td>
<td style="text-align: left;">130</td>
<td style="text-align: left;">10%</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Total Assigned Points</strong></td>
<td style="text-align: left;">1,240</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Total Possible Points</strong></td>
<td style="text-align: left;">1,370</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
<section id="grading-scale" class="level3 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 class="anchored" data-anchor-id="grading-scale">Grading Scale:</h3>
<ul>
<li>A+: 100 % to 96.67%</li>
<li>A : &lt; 96.67 % to 93.33%</li>
<li>A-: &lt; 93.33 % to 90.0%</li>
<li>B+: &lt; 90.0 % to 86.67%</li>
<li>B : &lt; 86.67 % to 83.33%</li>
<li>B-: &lt; 83.33 % to 80.0%</li>
<li>C+: &lt; 80.0 % to 76.67%</li>
<li>C : &lt; 76.67 % to 70.0%</li>
<li>D : &lt; 70.0 % to 60.0%</li>
<li>F : &lt; 60.0 % to 0.0%</li>
</ul>
</section>
</div>
</div>
<section id="evaluation-components" class="level3">
<h3 class="anchored" data-anchor-id="evaluation-components">Evaluation Components</h3>
<section id="daily-exercises-20" class="level4">
<h4 class="anchored" data-anchor-id="daily-exercises-20"><strong>Daily Exercises</strong> (20%)</h4>
<p>Short coding or reading assignments graded pass/fail. Complete 25 out of 29 assignments, with 4 extra credit opportunities.</p>
</section>
<section id="lab-activities-10" class="level4">
<h4 class="anchored" data-anchor-id="lab-activities-10"><strong>Lab Activities</strong> (10%)</h4>
<p>Weekly in-class activities reinforcing lecture topics. Complete 12 out of 13 activities, with 1 extra credit opportunity.</p>
</section>
<section id="labs-50" class="level4">
<h4 class="anchored" data-anchor-id="labs-50"><strong>Labs</strong> (50%)</h4>
<p>Approximately 9 hands-on labs will provide applied learning experiences, focusing on solving real-world problems through data analysis.</p>
</section>
<section id="final-project-20" class="level4">
<h4 class="anchored" data-anchor-id="final-project-20"><strong>Final project</strong> (20%)</h4>
<p>Students will design and choose a final project to demonstrate their quantitative reasoning skills, mixing ideas from lectures and labs to answer a question of interest to them. Final projects will be presented in the final lab section - lightning talk style.</p>
</section>
</section>
<section id="extra-credit-opportunities-10" class="level3">
<h3 class="anchored" data-anchor-id="extra-credit-opportunities-10"><strong>Extra Credit Opportunities</strong> (10%)</h3>
</section>
<section id="course-material" class="level3">
<h3 class="anchored" data-anchor-id="course-material">Course Material</h3>
<ul>
<li><p>All readings and resources are free and avialable online</p></li>
<li><p>It is highly encouraged that you do all work on you own laptop. You’ll need a machine with a full OS (not Chromebook) to install the software and process the data we’ll be working with. If this is not possible for you, please work with me or your TA to find a good solution.</p></li>
<li><p>This class borrows from the R community and the data science world at large - particualry from UCSB. It seeks to provide a curreated set of the best material along with careful guidance through it. If someone has made exceptional resources, we want to share that with you rather then reinvnet the wheel (a core tenet of data science at large - borrow, share, contirbute)</p></li>
</ul>
</section>
</section>
</section>
<section id="how-to-approach-this-course" class="level1">
<h1>How to Approach This Course:</h1>
<p>This course is designed to build practical, cumulative skills in environmental data science. Each week’s material builds on the previous one, so consistent participation and regular practice are crucial. Missing early concepts will make it harder to grasp later topics, but staying engaged will set you up for success.</p>
<p>Attendance is highly encouraged, as active participation in class discussions and assignments will reinforce your learning. If you need to miss a session, please inform us in advance whenever possible.</p>
<p>The workload is manageable, and by keeping up with daily and weekly assignments, you’ll gain valuable skills and perform well. Historically, students who have committed to the course have succeeded—not just with strong grades but also in building a foundation for future opportunities.</p>
<p>While this course may feel challenging at times, persistence pays off. No student who has consistently participated and completed the work has finished with less than a B. Remember, we’re here to support you every step of the way. With effort and engagement, you’ll leave this course prepared to excel as an environmental data scientist.</p>
</section>
<section id="resources" class="level1">
<h1>Resources</h1>
<section id="software" class="level2">
<h2 class="anchored" data-anchor-id="software">Software</h2>
<p>In this course we will use <a href="https://www.r-project.org/">R</a> which is an open source programming environment. You will interact with R through the <a href="https://posit.co/download/rstudio-desktop/">RStudio IDE</a>. Your projects and code will be turned into through <a href="https://github.com/">GitHub</a> as <a href="https://quarto.org/">Quarto</a> reports. Through the course you will build an online portfolio that can be taken with you later on. If you haven’t used these tools before, don’t worry - we will get up and running with them during the first week.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>I recommend the following reference if a topic peeks your interest. Versions of all of them are available for free at the following links:</p>
<ul>
<li><p><strong>R Programming</strong>: Hadley Wickham et al., <a href="https://r4ds.hadley.nz">R for Data Science</a></p></li>
<li><p><strong>Data Visualization</strong>: Claus E. Wilke, <a href="https://serialmentor.com/dataviz/">Fundamentals of Data Visualization</a>.</p></li>
<li><p><strong>Geospatial Data Science</strong>: Robin Lovelace et al., <a href="https://r.geocompx.org/">Geocomputation with R</a></p></li>
<li><p><strong>Machine Learning</strong>: Max Kuhn and Julia Silge, <a href="https://www.tmwr.org/">Tidy Modeling with R</a></p></li>
<li><p><strong>Communication</strong>: <a href="https://quarto.org/docs/guide/">Quarto Guide</a></p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>